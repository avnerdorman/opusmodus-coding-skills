Opusmodus                                                                    gen-palindrome     1

gen-palindrome sequence &key encode repeat size type
                        symmetrical section exclude seed

[Function]

Arguments and Values:
sequence                a sequence of items.
encode                  T or NIL. With :encode T (the default) the function transforms OMN repeat
                        symbols (=) into its values, while :encode NIL returns selections
                        unchanged.
repeat                  a list of integers - number of repeats.
size                    NIL or '? randomises the output length of the palindrome.
                        The default is NIL.
symmetrical             NIL or T. The default is T.
section                 an integer or list of integers. Selected list or lists to process.
                        The default is NIL.
exclude                 an integer or list of integers. Excluded list or lists from process.
                        The default is NIL.
seed                    an integer or NIL. The default is NIL.

OMN:
type                    :length :pitch or :velocity.
span                    :length :pitch or :velocity. The default is :length.


Description:

Returns a sequence of elements, whose meaning may be interpreted the same way in
either forward or reverse direction.

(gen-palindrome '(1 2 3 4 5 6))
=> (1 2 3 4 5 6 5 4 3 2 1)

(gen-palindrome '(1 2 3 4 5 6) :symmetrical nil)
=> (1 2 3 4 5 6 6 5 4 3 2 1)


Examples:

Palindrome with random output length:

(gen-palindrome '(1 2 3 4 5 6) :size '?)
=> (1 2 3 4 5 6 5)

Palindrome on pitch symbols:

(gen-palindrome '(c4 = cs4 = e4 g4))
=> (c4 = cs4 = e4 g4 e4 cs4 = c4 =)
Opusmodus                                                                  gen-palindrome      2

Palindrome on length symbols:

(gen-palindrome '(e -e 3q = - == - q))
=> (e - 3q = - 3h -3q q -3q 3h -3q = = -e =)

Palindrome on OMN format:

(gen-palindrome '((e c4 q e4 e g4 h_e c5)
                  (q c4 = cs4 - d5 =)
                  (q cs5 = - - c4 = =))
                 :section '(0 1)
                 :repeat '(2 1))

=> ((e c4 q e4 e g4 h_e c5 e g4 q e4 e c4
     q e4 e g4 h_e c5 e g4 q e4 e c4)
    (q c4 = cs4 - d5 = = - cs4 c4 =)
    (q cs5 = - - c4 = =))

Here is the function specially written for Continuum for solo cello. The source material for
this study comes from the Slonimksy Thesaurus. Notice how the six palindromic variations
generated by GEN-LOOP are all of different lengths. The :size '? keyword randomises
the output length of the palindrome.

(setf sl-85 '(c4 bb3 b3 fs4 e4 f4))

(gen-loop 6 (gen-palindrome sl-85 :size '?))
=> ((c4 bb3 b3 fs4 e4 f4 e4 fs4 b3 bb3 c4)
    (c4 bb3 b3 fs4 e4 f4 e4 fs4)
    (c4 bb3 b3 fs4 e4 f4 e4)
    (c4 bb3 b3 fs4 e4 f4)
    (c4 bb3 b3 fs4 e4 f4 e4 fs4)
    (c4 bb3 b3 fs4 e4 f4 e4))
