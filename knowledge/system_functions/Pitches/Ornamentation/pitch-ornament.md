Opusmodus                                                                             pitch-ornament   1

pitch-ornament sequence &key interval section chord seed
[Function]

Arguments and Values:
sequence                 a list of pitches or omn-form list.
interval                 NIL, '? or list of intervals.
                         The default is '? at random from (-1 1 -2 2).
chord                    NIL or T. If T, transposition apply to chord as well. The default is NIL.
section                  an integer or list of integers. Selected list or lists to process.
                         The default is NIL.
exclude                  an integer or list of integers. Excluded list or lists from process.
                         The default is NIL.
seed                     NIL or number. The default is NIL.


Description:

The function PITCH-ORNAMENT applies transpositions (to :interval or at random
'(-1 1 -2 2)) to a list of pitches that might include repeated notes.

(pitch-ornament '(c4 c4 c4 c4 fs4 d5 d5 d5 d5 d5 bb3 b3 f4 ab4))
=> (bb3 b3 d4 cs4 fs4 e5 c5 eb5 cs5 e5 bb3 b3 f4 ab4)




(pitch-ornament '(c4 c4 c4 e4 fs4 d5 d5 d5 d5 d5 bb3 b3 f4a4)
                :interval '((13 0 13) ?)
                :seed 57)
=> (cs5 c4 cs5 e4 fs4 cs5 eb5 c5 e5 cs5 bb3 b3 f4a4)

When lists of pitches are generated by random processes or from noise or probability
functions it is quite usual for repeated pitches to occur. When a composer is writing for
legato strings or winds repeated pitches require articulation and break breath or bowing
motion. Applying ornamentation to such repeated pitches with an upward, downward or
mixed appoggiatura is a common device. The function PITCH-ORNAMENT ful ls this
requirement as well as offering novel variations in other situations. See below the example of
its use with chords.
                                                                                 fi
Opusmodus                                                   pitch-ornament   2

Examples:
(pitch-ornament '((c4 c4 c4 d4 fs4)
                  (d5 d5 d5 d5 d5 bb4 b4 fs4 ab4)) :seed 124)
=> ((d4 cs4 b3 d4 fs4) (c5 eb5 cs5 e5 c5 bb4 b4 fs4 ab4))




Example with de ned intervals:

(pitch-ornament '((c4 c4 c4 d4 fs4) (d5 d5 d5 d5 d5 bb4 b4 fs4 ab4))
                :interval '((13 1 11 2) ?)
                :seed 124)
=> ((cs5 cs4 b4 d4 fs4) (eb6 eb5 cs6 e5 eb6 bb4 b4 fs4 ab4))




OMN:

Example with and without keyword :chord:

(pitch-ornament
 '((s c4 c4 e c4 c4 s fs4)
   (s d5 d5 e d5 s d5 d5 e bb3b4 bb3b4 bb3b4)) :seed 865)
=> ((s cs4 b3 e d4 bb3 s fs4)
    (s eb5 c5 e e5 s cs5 eb5 e bb3b4 bb3b4 bb3b4))
            fi
Opusmodus                                                 pitch-ornament   3

(pitch-ornament
 '((s c4 c4 e c4 c4 s fs4)
   (s d5 d5 e d5 s d5 d5 e bb3b4 bb3b4 bb3b4))
 :interval '((0 6) (? (13 0 13)))
 :chord t
 :seed 865)
=> ((s c4 fs4 e c4 fs4 s)
    (s eb5 cs5 e e5 s c5 eb5 e b4c6 bb3b4 b4c6))




Assembling omn-form sequence:

(setf air (air 126 :invert :type :pitch))

(setf mat (gen-repeat (rnd-sample 12 '(2 3) :seed 45) air))
=> ((c4 c4) (b4 b4) (g4 g4 g4) (bb4 bb4 bb4) (gs4 gs4 gs4)
    (cs4 cs4 cs4) (eb4 eb4 eb4) (a4 a4) (e4 e4 e4) (f4 f4 f4)
    (d4 d4) (fs4 fs4))

(setf ivalues '((0 6 12) (13 0 14) (0 1 -1)))

(setf res (pitch-ornament (flatten mat) :interval ivalues))
=> (c4 fs4 c6 b4 g4 gs4 fs4 bb4 e5 bb5 a5 gs4 bb5 cs4 d4
    c4 eb4 a4 eb5 bb5 a4 e4 f4 eb4 f4 b4 f5 eb5 d4 fs4 g4)

(make-omn :length (gen-tuplet 1 1 'm 'n 1/8 (get-count mat))
          :pitch res
          :span :pitch)
