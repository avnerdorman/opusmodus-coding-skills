Opusmodus                                                                   element-analysis       1

element-analysis sequence &key bar name
[Function]

Arguments and Values:
sequence                  a sequence (omn-form).
bar                       an integer (a bar number).
name                      a name (a string).


Description:

This function returns a number of data taken from all elements and its values found in a
given sequence. The analysis takes into account: length-notes, length-rests, pitches,
intervals, velocities, articulation values. The result is a count, duration and percentage value
taken from all parameters and its sum.


Examples:

I.
In this example we analyse a short sequence of 10 bars.

(setf GV '(#|1|# (h d4 0.54 a4 0.5)
           #|2|# (h f4 0.54 d4 0.5)
           #|3|# (h db4 0.54 q d4 0.5 e4)
           #|4|# (h f4 0.54 tie e e g4 0.5 f4 e4)
           #|5|# (q d4 0.54 e4 0.5 f4 g4)
           #|6|# (q a4 0.54 e a3 0.5 b3 c4 a3 q f4 tie)
           #|7|# (e f4 b3 0.53 q. e4 0.5 e f4 e4 d4)
           #|8|# (q e4 0.54 gb4 0.5 h g4 tie)
           #|9|# (e g4 a4 0.53 g4 0.5 f4 h e4)
           #|10|# (w d4)))

                  2          3              4               5              6




  7                                 8                   9                         10




                                                                                       Opusmodus
Opusmodus                                               element-analysis   2

(element-analysis GV :name "Analisi statistica")
--------------------------------------------------------------
Score: Analisi statistica
Number of bars: 10
Span: 10
--------------------------------------------------------------
Length Values: (1/8 1/4 3/8 1/2 5/8 1)
Low: 1/8 High: 1
--------------------------------------------------------------
    Values | Times |      Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
       1/8 |     14 |     41.1765 |     1.75 |         17.5
       1/4 |      9 |     26.4706 |     2.25 |         22.5
       1/2 |      6 |     17.6471 |      3.0 |         30.0
       5/8 |      2 |      5.8824 |     1.25 |         12.5
       3/8 |      2 |      5.8824 |     0.75 |          7.5
          1 |     1 |      2.9412 |      1.0 |         10.0
--------------------------------------------------------------
     Total       34         100.0       10.0          100.0
--------------------------------------------------------------
Length Rest Values: none
--------------------------------------------------------------
Pitch Values: (a3 b3 c4 cs4 d4 e4 f4 fs4 g4 a4)
Low: a3 High: a4
--------------------------------------------------------------
    Values | Times |      Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
         f4 |     7 |     20.5882 |    2.125 |        21.25
         e4 |     7 |     20.5882 |    1.875 |        18.75
         d4 |     6 |     17.6471 |    2.625 |        26.25
         g4 |     4 |     11.7647 |    1.125 |        11.25
         a4 |     3 |      8.8235 |    0.875 |         8.75
         b3 |     2 |      5.8824 |     0.25 |          2.5
         a3 |     2 |      5.8824 |     0.25 |          2.5
       fs4 |      1 |      2.9412 |     0.25 |          2.5
       cs4 |      1 |      2.9412 |      0.5 |          5.0
         c4 |     1 |      2.9412 |    0.125 |         1.25
--------------------------------------------------------------
     Total       34         100.0       10.0          100.0
--------------------------------------------------------------
Opusmodus                                               element-analysis   3

Interval Values: (0 1 2 3 4 5 6 7 8 12)
Low: 0 High: 12
--------------------------------------------------------------
    Values | Times |      Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
         2 |    15 |      44.1176 |    3.625 |        36.25
         1 |    10 |      29.4118 |     3.25 |         32.5
         3 |     2 |       5.8824 |    0.625 |         6.25
        12 |     1 |       2.9412 |    0.125 |         1.25
         8 |     1 |       2.9412 |    0.375 |         3.75
         7 |     1 |       2.9412 |      0.5 |          5.0
         6 |     1 |       2.9412 |    0.125 |         1.25
         5 |     1 |       2.9412 |    0.375 |         3.75
         4 |     1 |       2.9412 |      0.5 |          5.0
         0 |     1 |       2.9412 |      0.5 |          5.0
--------------------------------------------------------------
     Total      34          100.0       10.0          100.0
--------------------------------------------------------------
Velocity Values: (0.5 0.53 0.54)
Low: 0.5 High: 0.54
--------------------------------------------------------------
    Values | Times |      Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
       0.5 |    25 |      73.5294 |    6.875 |        68.75
      0.54 |     7 |      20.5882 |    2.875 |        28.75
      0.53 |     2 |       5.8824 |     0.25 |          2.5
--------------------------------------------------------------
     Total      34          100.0       10.0          100.0
--------------------------------------------------------------
Articulation Values: none
--------------------------------------------------------------

II.
The bar analysis:

(element-analysis GV :name "Analisi statistica 3" :bar 3)
--------------------------------------------------------------
Score: Analisi statistica 3
Bar number: 3
Bar span: 1
--------------------------------------------------------------
Length Values: (1/4 1/2)
Low: 1/4 High: 1/2
--------------------------------------------------------------
    Values | Times |     Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
       1/4 |     2 |     66.6667 |      0.5 |         50.0
       1/2 |     1 |     33.3333 |      0.5 |         50.0
--------------------------------------------------------------
     Total       3          100.0       1.0          100.0
--------------------------------------------------------------
Opusmodus                                               element-analysis   4

Length Rest Values: none
--------------------------------------------------------------
Pitch Values: (cs4 d4 e4)
Low: cs4 High: e4
--------------------------------------------------------------
    Values | Times |      Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
        e4 |      1 |     33.3333 |     0.25 |         25.0
        d4 |      1 |     33.3333 |     0.25 |         25.0
       cs4 |      1 |     33.3333 |      0.5 |         50.0
--------------------------------------------------------------
     Total        3         100.0        1.0          100.0
--------------------------------------------------------------
Interval Values: (0 1 2)
Low: 0 High: 2
--------------------------------------------------------------
    Values | Times |      Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
         2 |      1 |     33.3333 |     0.25 |         25.0
         1 |      1 |     33.3333 |     0.25 |         25.0
         0 |      1 |     33.3333 |      0.5 |         50.0
--------------------------------------------------------------
     Total        3         100.0        1.0          100.0
--------------------------------------------------------------
Velocity Values: (0.5 0.54)
Low: 0.5 High: 0.54
--------------------------------------------------------------
    Values | Times |      Percent | Duration | Span Percent
-----------|-------|-------------|----------|-----------------
       0.5 |      2 |     66.6667 |      0.5 |         50.0
      0.54 |      1 |     33.3333 |      0.5 |         50.0
--------------------------------------------------------------
     Total        3         100.0        1.0          100.0
--------------------------------------------------------------
Articulation Values: none
--------------------------------------------------------------
