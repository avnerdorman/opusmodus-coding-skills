Opusmodus                                                                              gen-mutate   1

gen-mutate n list &key prob count seed
[Function]

Arguments and Values:
n                       an integer. A number of consecutive mutation lists.
list                    a list of oating numbers.
prob                    a oating number (mutation probability). The default is 0.5.
count                   an integer. Number of possible mutation.
seed                    an integer. Ensures the same result each time the code is evaluated.
                        The default is NIL.


Description:

This function returns a random element from a list and mutates randomly to a given
mutation probability. First we generate a list of oating numbers:

(setf list (rndn 5))
=> (0.3392996 0.19626139 0.81495553 0.83888537 0.7668492)

Below the function we use mutation probability 0,5 with default mutation :count 1:

(gen-mutate 24 list :seed 34)
=> ((0.3392996 0.19626139 0.81495553 0.83888537 0.7668492)
    (0.3392996 0.19626139 0.81495553 0.83888537 0.017515372)
    (0.3392996 0.19626139 0.81495553 0.83888537 0.55120957)
    (0.3392996 0.9165399 0.81495553 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.81495553 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.81495553 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.8174961)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.8174961)
    (0.21048035 0.9165399 0.95386976 0.18478736 0.8174961)
    (0.21048035 0.9165399 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.4052874 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95090246 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95090246 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95090246 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6760962 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6858621 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6858621 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.8174961)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.36454925)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.36454925)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.36454925))
                   fl
                        fl
                                                 fl
Opusmodus                                                        gen-mutate   2

In the following example we set the mutation count to 1 and 2:

(gen-mutate 24 list :count '(1 2) :seed 34)
=> ((0.3392996 0.19626139 0.81495553 0.83888537 0.7668492)
    (0.3392996 0.19626139 0.81495553 0.83888537 0.55120957)
    (0.3392996 0.9165399 0.81495553 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.81495553 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.8174961)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.8174961)
    (0.21048035 0.9165399 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.4052874 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95090246 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95090246 0.6663358 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6760962 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6858621 0.18478736 0.8174961)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.8174961)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.36454925)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.36454925)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.39945927)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.33166522)
    (0.21048035 0.95245343 0.6858621 0.08788284 0.33166522)
    (0.9730699 0.95245343 0.6858621 0.34861308 0.33166522)
    (0.9730699 0.4918292 0.6858621 0.34861308 0.33166522)
    (0.9730699 0.4918292 0.6858621 0.84467804 0.33166522)
    (0.9730699 0.09934778 0.6858621 0.84467804 0.33166522)
    (0.9730699 0.09934778 0.6858621 0.84467804 0.33166522))
Opusmodus                                                           gen-mutate   3

In the example below we increase the mutation probability to 0.8:

(gen-mutate 24 list :count '(1 2) :prob 0.8 :seed 34)
=> ((0.3392996 0.19626139 0.81495553 0.83888537 0.7668492)
    (0.3392996 0.19626139 0.81495553 0.83888537 0.55120957)
    (0.3392996 0.9165399 0.81495553 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.81495553 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.55120957)
    (0.21048035 0.9165399 0.95386976 0.83888537 0.8174961)
    (0.21048035 0.9165399 0.19755594 0.83888537 0.8174961)
    (0.21048035 0.9165399 0.38637358 0.2855475 0.8174961)
    (0.21048035 0.9165399 0.38637358 0.2855475 0.8174961)
    (0.21048035 0.95090246 0.86454636 0.2855475 0.8174961)
    (0.21048035 0.45705402 0.86454636 0.2855475 0.8174961)
    (0.21048035 0.45705402 0.49055362 0.2855475 0.8174961)
    (0.21048035 0.45705402 0.49055362 0.95791614 0.8174961)
    (0.21048035 0.45705402 0.49055362 0.33295825 0.8174961)
    (0.21048035 0.45705402 0.49055362 0.33295825 0.31875682)
    (0.21048035 0.45705402 0.49055362 0.33295825 0.39945927)
    (0.21048035 0.45705402 0.49055362 0.33295825 0.33166522)
    (0.22077358 0.45705402 0.49055362 0.78844726 0.33166522)
    (0.22077358 0.45705402 0.16942537 0.78844726 0.33166522)
    (0.22077358 0.8593635 0.16942537 0.78844726 0.33166522)
    (0.1464369 0.8593635 0.16942537 0.78844726 0.33166522)
    (0.57707226 0.8593635 0.16942537 0.78844726 0.33166522)
    (0.028821277 0.8593635 0.16942537 0.78844726 0.33166522)
    (0.09158944 0.8593635 0.16942537 0.78844726 0.33166522))
Opusmodus                                                                       gen-mutate    4

Examples:

To demonstrate the difference of all three examples we convert the mutation list to pitches
with the help of the VECTOR-TO-PITCH function:

(setf mutation1 (vector-to-pitch
                 '(-20 42)
                 (flatten (gen-mutate 24 list :seed 34))))

(make-omn :length '(s)
          :pitch mutation1
          :span :pitch)
Opusmodus                                                    gen-mutate   5

(setf mutation2
      (vector-to-pitch
       '(-20 42)
       (flatten (gen-mutate 24 list :count '(1 2) :seed 34))))

(make-omn :length '(s)
          :pitch mutation2
          :span :pitch)
Opusmodus                                                    gen-mutate   6

(setf mutation3
      (vector-to-pitch
       '(-20 42)
      (flatten
       (gen-mutate 24 list :count '(1 2) :prob 0.8 :seed 34))))

(make-omn :length '(s)
          :pitch mutation3
          :span :pitch)
